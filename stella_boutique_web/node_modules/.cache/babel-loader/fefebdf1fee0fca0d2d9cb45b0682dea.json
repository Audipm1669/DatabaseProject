{"ast":null,"code":"import axios from 'axios';\nconst API_HOST = process.env.REACT_APP_HOST;\n\nfunction getHeaders(token) {\n  return {\n    'Content-Type': 'application/json',\n    'Authorization': token\n  };\n}\n\nfunction getBody(userID, password) {\n  return {\n    email: email,\n    password: password\n  };\n}\n\nconst myMiddleware = store => next => action => {\n  if (action.type === \"LOGIN_USER\") {\n    const headers = getHeaders(action.token);\n    const body = getBody(action.email, action.password);\n    axios.post(API_HOST + '/login', body, {\n      headers: headers\n    }).then(response => {\n      action.setUser(action.email, action.password, store.dispatch);\n    }).catch(err => {\n      console.log(err);\n      alert(\"User Authentication Failed!\");\n    });\n  }\n};\n\nexport default myMiddleware;","map":{"version":3,"sources":["C:/Users/aushi/Desktop/DatabaseProject/stella_boutique_web/src/middleware/index.js"],"names":["axios","API_HOST","process","env","REACT_APP_HOST","getHeaders","token","getBody","userID","password","email","myMiddleware","store","next","action","type","headers","body","post","then","response","setUser","dispatch","catch","err","console","log","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,cAA7B;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACvB,SAAQ;AACJ,oBAAgB,kBADZ;AAEJ,qBAAiBA;AAFb,GAAR;AAIH;;AAED,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,QAAzB,EAAmC;AAC/B,SAAQ;AACJC,IAAAA,KAAK,EAAEA,KADH;AAEJD,IAAAA,QAAQ,EAAEA;AAFN,GAAR;AAIH;;AAED,MAAME,YAAY,GAAGC,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;AAC5C,MAAGA,MAAM,CAACC,IAAP,KAAgB,YAAnB,EAAiC;AAC7B,UAAMC,OAAO,GAAGX,UAAU,CAACS,MAAM,CAACR,KAAR,CAA1B;AACA,UAAMW,IAAI,GAAGV,OAAO,CAACO,MAAM,CAACJ,KAAR,EAAeI,MAAM,CAACL,QAAtB,CAApB;AACAT,IAAAA,KAAK,CAACkB,IAAN,CAAWjB,QAAQ,GAAG,QAAtB,EAAgCgB,IAAhC,EAAsC;AAACD,MAAAA,OAAO,EAAEA;AAAV,KAAtC,EACCG,IADD,CACMC,QAAQ,IAAI;AACdN,MAAAA,MAAM,CAACO,OAAP,CAAeP,MAAM,CAACJ,KAAtB,EAA6BI,MAAM,CAACL,QAApC,EAA8CG,KAAK,CAACU,QAApD;AACH,KAHD,EAICC,KAJD,CAIOC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,KAAK,CAAC,6BAAD,CAAL;AACH,KAPD;AAQH;AACJ,CAbD;;AAeA,eAAehB,YAAf","sourcesContent":["import axios from 'axios'\r\n\r\nconst API_HOST = process.env.REACT_APP_HOST;\r\n\r\nfunction getHeaders(token) {\r\n    return ({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': token\r\n    })\r\n}\r\n\r\nfunction getBody(userID, password) {\r\n    return ({\r\n        email: email,\r\n        password: password\r\n    })\r\n}\r\n\r\nconst myMiddleware = store => next => action => {\r\n    if(action.type === \"LOGIN_USER\") {\r\n        const headers = getHeaders(action.token)\r\n        const body = getBody(action.email, action.password)\r\n        axios.post(API_HOST + '/login', body, {headers: headers})\r\n        .then(response => {\r\n            action.setUser(action.email, action.password, store.dispatch)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(\"User Authentication Failed!\")\r\n        })\r\n    }\r\n}\r\n\r\nexport default myMiddleware"]},"metadata":{},"sourceType":"module"}